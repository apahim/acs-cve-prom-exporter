package collector

import (
	"github.com/prometheus/client_golang/prometheus"
	"math/rand"
)

type MyCollector struct {
	myMetric *prometheus.Desc
}

func NewMyCollector() *MyCollector {
	return &MyCollector{
		myMetric: prometheus.NewDesc("my_metric",
			"Description of my metric",
			nil, nil,
		),
	}
}

func (collector *MyCollector) Describe(ch chan<- *prometheus.Desc) {
	ch <- collector.myMetric
}

func (collector *MyCollector) Collect(ch chan<- prometheus.Metric) {
	value := rand.Float64() // Generate a random value for demonstration
	ch <- prometheus.MustNewConstMetric(collector.myMetric, prometheus.GaugeValue, value)
}
